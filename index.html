<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- Make it responsive on mobile -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Voice Assistant</title>
  <link rel="stylesheet" href="style.css">
  <!-- Font Awesome for icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-ZlWC6jvV7+q2xU1f5nzXzO0+6VT+P9RuQzP0O1KC2IQjI2yn+fwH3uX9pFfVbXq2fI9e8V6LBV0P+P4J7kB+eg=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
</head>
<body>

  <!-- NEW: Always‑visible Hide/Show UI button -->
  <button
    id="toggle-ui"
    style="
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 2000;
      padding: 8px 12px;
      background: rgba(0,0,0,0.6);
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    "
  >
    Hide UI
  </button>

  <!-- Loading screen -->
  <div id="loading-screen">
    <img src="Bellaicon/Generated image.webp" alt="Loading Bella…">
  </div>

  <!-- Background videos -->
  <div class="video-container">
    <video autoplay muted class="bg-video active" id="video1">
      <source src="视频资源/3D 建模图片制作.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video muted class="bg-video" id="video2">
      <source src="" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <!-- Overlay content -->
  <div class="content-overlay">

    <!-- Top favorability bar -->
    <header class="top-bar">
      <label for="favorability-bar">Favorability</label>
      <div class="progress-container">
        <div class="progress-fill" id="favorability-bar"></div>
      </div>
    </header>

    <!-- Transcript display -->
    <div class="transcript-container">
      <p id="transcript"></p>
    </div>

    <!-- Sentiment analysis panel -->
    <div class="sentiment-analysis-container">
      <input
        type="text"
        id="sentiment-input"
        placeholder="Type some text…"
      />
      <button id="analyze-button">Analyze Sentiment</button>
      <p id="sentiment-result"></p>
    </div>

    <!-- Local speech‐to‐text panel -->
    <div id="local-asr-container" class="local-asr-container">
      <button id="local-mic-button">Start Local Recognition</button>
      <p>
        Local recognition result:
        <span id="local-asr-result"></span>
      </p>
    </div>

    <!-- Floating menu button -->
    <div id="floating-button">
      <i class="fas fa-bars"></i>
    </div>

    <!-- Slide‑out menu (no more UI toggle here) -->
    <div id="menu-container" class="hidden">
      <button
        class="menu-item"
        data-video="视频资源/jimeng-2025-07-16-4437-比耶，然后微笑着优雅的左右摇晃.mp4"
      >
        Pose
      </button>
      <button
        class="menu-item"
        data-video="视频资源/生成加油视频.mp4"
      >
        Cheer
      </button>
      <button
        class="menu-item"
        data-video="视频资源/生成跳舞视频.mp4"
      >
        Dance
      </button>
    </div>

    <!-- Bottom microphone + credit link -->
    <footer class="bottom-bar">
      <button
        class="mic-button"
        id="mic-button"
        aria-label="Start Listening"
      >
        <i class="fas fa-microphone"></i>
      </button>
      <a
        href="https://x.com/jackywine"
        target="_blank"
        rel="noopener noreferrer"
        class="footer-credit"
      >
        © jackywine
      </a>
    </footer>

  </div>

  <!-- Main script (ES module) -->
  <script type="module" src="script.js"></script>

  <!-- Inline JS to wire up Hide UI -->
  <script>
    const toggleUIButton = document.getElementById('toggle-ui');
    toggleUIButton.addEventListener('click', () => {
      const hidden = document.body.classList.toggle('ui-hidden');
      toggleUIButton.textContent = hidden ? 'Show UI' : 'Hide UI';
    });
  </script>
</body>
</html>

